const products: Product[] = [
  {
    id: 1,
    category_id: 1,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/margarita.JPEG",
    name: "Маргарита",
    description:
      "Пицца Маргарита - это классическая пицца с томатным соусом, моцареллой и базиликом",
    price: 2500,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 2,
    category_id: 1,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/pepperoni.JPEG/",
    name: "Пепперони",
    description:
      "Пицца Пепперони - это простая и ароматная пицца с острой колбаской и сыром.",
    price: 2900,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 3,
    category_id: 1,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/cheese%20pizza.JPEG/",
    name: "Сырная Пицца",
    description:
      "Пицца Сырная - это сочетание различных видов сыра на тонком тесте.",
    price: 3500,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 4,
    category_id: 1,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/ham%20mushrooms.JPEG/",
    name: "Ветчина Грибы",
    description: "",
    price: 3000,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 5,
    category_id: 1,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/americano.JPEG/",
    name: "Американо",
    description:
      "Пышная, поджаристая, с необычными начинками – всё это пицца Американо",
    price: 3500,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 6,
    category_id: 1,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/bolognes.JPEG/",
    name: "Пицца Болоньезе",
    description:
      "Пицца Болоньезе - это простая и ароматная пицца с мясным соусом и сыром.",
    price: 3500,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 7,
    category_id: 1,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/chicken.JPEG/",
    name: "Пицца с Курицей",
    description: "",
    price: 2800,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 8,
    category_id: 1,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/pear.JPEG/",
    name: "Груша Горгондзола",
    description:
      "Нежный сливочный соус, сыр моцарелла, сыр горгонзола и груша с грецким орехом и медом.",
    price: 4500,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 9,
    category_id: 1,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/truffle%20mushrooms.JPEG/",
    name: "Грибы Трюфель",
    description:
      "Пицца Грибы Трюфель - грибное удовольствие, украшенное изысканным трюфельным маслом для тонкого вкуса.",
    price: 4500,
    currency: "KZT",
    modifiers: [],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
      {
        id: 6,
        price: 500,
        currency: "KZT",
        name: "двойной сыр",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 10,
    category_id: 2,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/arabiata.JPEG/",
    name: "Арабьята острая",
    description: "",
    price: 2000,
    currency: "KZT",
    modifiers: [
      {
        id: 1,
        price: 2000,
        currency: "KZT",
        name: "Фетучини",
        on_stop: false,
      },
      {
        id: 2,
        price: 2000,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
      {
        id: 3,
        price: 2000,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 11,
    category_id: 2,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/carbonara.JPEG/",
    name: "Карбонара",
    description: "",
    price: 3400,
    currency: "KZT",
    modifiers: [
      {
        id: 4,
        price: 3400,
        currency: "KZT",
        name: "Фетучини",
        on_stop: false,
      },
      {
        id: 5,
        price: 3400,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
      {
        id: 6,
        price: 3400,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 12,
    category_id: 2,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/bolognese.JPEG",
    name: "Болоньезе",
    description: "",
    price: 3400,
    currency: "KZT",
    modifiers: [
      {
        id: 7,
        price: 3400,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
      {
        id: 8,
        price: 3400,
        currency: "KZT",
        name: "Фетучини",
        on_stop: false,
      },
      {
        id: 9,
        price: 3400,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 13,
    category_id: 2,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/with%20shrimp.JPEG/",
    name: "С креветками",
    description: "в сливочно-томатном соусе",
    price: 3500,
    currency: "KZT",
    modifiers: [
      {
        id: 10,
        price: 3500,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
      {
        id: 11,
        price: 3500,
        currency: "KZT",
        name: "Фетучини",
        on_stop: false,
      },
      {
        id: 12,
        price: 3500,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 14,
    category_id: 2,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/alfredo.JPEG",
    name: "Альфредо",
    description: "",
    price: 3000,
    currency: "KZT",
    modifiers: [
      {
        id: 13,
        price: 3000,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
      {
        id: 14,
        price: 3000,
        currency: "KZT",
        name: "Фетучини",
        on_stop: false,
      },
      {
        id: 15,
        price: 3000,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 15,
    category_id: 2,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/pesto.JPEG",
    name: "Песто",
    description: "",
    price: 2900,
    currency: "KZT",
    modifiers: [
      {
        id: 16,
        price: 2900,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
      {
        id: 17,
        price: 2900,
        currency: "KZT",
        name: "Фетучини",
        on_stop: false,
      },
      {
        id: 18,
        price: 2900,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 16,
    category_id: 2,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/salmon.jpeg",
    name: "С семгой",
    description: "",
    price: 4500,
    currency: "KZT",
    modifiers: [
      {
        id: 19,
        price: 4500,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
      {
        id: 20,
        price: 4500,
        currency: "KZT",
        name: "Фетучини",
        on_stop: false,
      },
      {
        id: 21,
        price: 4500,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 17,
    category_id: 2,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/cheesy.JPEG",
    name: "Сырная",
    description: "",
    price: 2600,
    currency: "KZT",
    modifiers: [
      {
        id: 22,
        price: 2600,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
      {
        id: 23,
        price: 2600,
        currency: "KZT",
        name: "Фузилли",
        on_stop: false,
      },
      {
        id: 24,
        price: 2600,
        currency: "KZT",
        name: "Спагетти",
        on_stop: false,
      },
    ],
    additions: [
      {
        id: 1,
        price: 500,
        currency: "KZT",
        name: "много пармезана",
        on_stop: false,
      },
      {
        id: 2,
        price: 150,
        currency: "KZT",
        name: "нарубить чили",
        on_stop: false,
      },
      {
        id: 3,
        price: 250,
        currency: "KZT",
        name: "полить прекрасным маслом",
        on_stop: false,
      },
      {
        id: 4,
        price: 1000,
        currency: "KZT",
        name: "добавить курицу",
        on_stop: false,
      },
      {
        id: 5,
        price: 1500,
        currency: "KZT",
        name: "добавить трюфель",
        on_stop: false,
      },
    ],
    tags: [],
    on_stop: false,
  },
  {
    id: 18,
    category_id: 3,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/cola.avif",
    name: "Coca-Cola, 250 мл",
    description: "В стеклянной бутылке",
    price: 800,
    currency: "KZT",
    modifiers: [],
    additions: [],
    tags: [],
    on_stop: false,
  },
  {
    id: 19,
    category_id: 3,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/fanta.avif",
    name: "Fanta, 250 мл",
    description: '"В стеклянной бутылке"',
    price: 800,
    currency: "KZT",
    modifiers: [],
    additions: [],
    tags: [],
    on_stop: false,
  },
  {
    id: 20,
    category_id: 3,
    image_url: "https://pizza.pizzeria-almaty.kz/media/images/sprite.avif",
    name: "Sprite, 250 мл",
    description: "В стеклянной бутылке",
    price: 800,
    currency: "KZT",
    modifiers: [],
    additions: [],
    tags: [],
    on_stop: false,
  },
  {
    id: 21,
    category_id: 3,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/sanpelegrino_limonata.avif",
    name: "San Pellegrino Limonata 330 мл",
    description: "",
    price: 1500,
    currency: "KZT",
    modifiers: [],
    additions: [],
    tags: [],
    on_stop: false,
  },
  {
    id: 22,
    category_id: 3,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/sanpelegrino_aranciata.avif",
    name: "San Pellegrino Aranciata 330 мл",
    description: "",
    price: 1500,
    currency: "KZT",
    modifiers: [],
    additions: [],
    tags: [],
    on_stop: false,
  },
  {
    id: 23,
    category_id: 3,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/sanpelegrino_aranciata_rossa.avif",
    name: "San Pellegrino Aranciata Rossa 330 мл",
    description: "",
    price: 1500,
    currency: "KZT",
    modifiers: [],
    additions: [],
    tags: [],
    on_stop: false,
  },
  {
    id: 24,
    category_id: 3,
    image_url:
      "https://pizza.pizzeria-almaty.kz/media/images/sanpelegrino_melograno_arancia.avif",
    name: "San Pellegrino Melograno & Arancia 330 мл",
    description: "",
    price: 1500,
    currency: "KZT",
    modifiers: [],
    additions: [],
    tags: [],
    on_stop: false,
  },
];

type MyOrderProduct = OrderProduct & { product: Product };

const sumOneOrderProduct = (orderProduct: MyOrderProduct) => {
  if (!orderProduct.product) return 0;

  let price = 0;
  if (
    orderProduct.product.price === null ||
    orderProduct.product.price === undefined ||
    orderProduct.product.price === 0 ||
    orderProduct.product.modifiers.length !== 0
  ) {
    if (orderProduct.active_modifier !== null) {
      price =
        orderProduct.product.modifiers.find(
          (modifier) => modifier.id === orderProduct.active_modifier,
        )?.price || 0;
    }
  } else {
    price = orderProduct.product.price;
  }

  return (
    orderProduct.amount *
    (price +
      orderProduct.additions.reduce(
        (acc, cur_addition) =>
          acc +
          (orderProduct.product.additions.find(
            (addition) => addition.id === cur_addition,
          )?.price || 0),
        0,
      ))
  );
};

/* ----- Types creators ----- */

type Triggers =
  | {
      product_id: number;
    }
  | {
      product_ids: number[];
    }
  | {
      category_id: number;
    }
  | {
      category_ids: number[];
    }
  | {
      product_lists: (number | number[])[];
    }
  | {
      date_start?: string;
      date_end?: string;
      days?: (0 | 1 | 2 | 3 | 4 | 5 | 6)[];
      time_start?: string;
      time_end?: string;
    }
  | {
      order_cost_min?: number;
      order_cost_max?: number;
    };

type Payloads = {
  id: number;
  value:
    | {}
    | {
        product_id: number;
        discount_percent: number;
      };
};

type Action = {
  id: number;
  company: number;
  name: string;
  description: string;
  can_be_triggered: boolean;
  can_be_repeated: boolean;
  triggers: Triggers[];
  payloads: Payloads[];
};

type Modifiers = {
  id: number;
  price: number;
  currency: "KZT";
  name: string;
  on_stop: boolean;
};

type Additions = {
  id: number;
  price: number;
  currency: "KZT";
  name: string;
  on_stop: boolean;
};

type ProductTag = { name: string; tag_color: string };

type Product = {
  id: number;
  category_id: number;
  image_url: string;
  name: string;
  description: string | null;
  price: number | null;
  currency: "KZT";
  modifiers: Modifiers[];
  additions: Additions[];
  tags: ProductTag[];
  on_stop: boolean;
};

type OrderProduct = {
  amount: number;
  client_comment: string;
  price: number | null;
  product_id: Product["id"];
  active_modifier: Modifiers["id"] | null;
  additions: Additions["id"][];
};

type Order = {
  client_id: string;
  company_id: number | null; // new

  is_delivery: boolean;
  products: Array<OrderProduct>; // change
  bonus_used: boolean;
  bonus_amount: number;
  delivery_price: number;
  done_time: string; // new
  user_name: string;
  address: {
    long: number;
    lat: number;
    parsed?: string;
    exact_address?: string;
  } | null;
  exact_address: string | null;
  phone: string;
  kaspi_phone: string;
  client_comment: string | null;

  actions: Action[]; // change
};

type Test = {
  actions: Action[];
  order: Order;
  result: boolean[];
  description?: string;
};
// */

/* ----- Action creators ----- */

let actionCounter = 0; // начальное значение счетчика акций

const createEmptyTrigger = (): Triggers => ({});

const createProductTrigger = (productId: number): Triggers => ({
  product_id: productId,
});

const createProductListTrigger = (productIds: number[]): Triggers => ({
  product_ids: productIds,
});

const createCategoryTrigger = (categoryId: number): Triggers => ({
  category_id: categoryId,
});

const createCategoryListTrigger = (categoryIds: number[]): Triggers => ({
  category_ids: categoryIds,
});

const createProductListsTrigger = (
  productLists: (number | number[])[],
): Triggers => ({
  product_lists: productLists,
});

const createDateTimeTrigger = (
  dateStart?: string,
  dateEnd?: string,
  days?: (0 | 1 | 2 | 3 | 4 | 5 | 6)[],
  timeStart?: string,
  timeEnd?: string,
): Triggers => {
  const value: any = {};

  if (dateStart !== undefined || dateEnd !== undefined) {
    value.date_start = dateStart;
    value.date_end = dateEnd;
  }

  if (days !== undefined) {
    value.days = days;
  }

  if (timeStart !== undefined || timeEnd !== undefined) {
    value.time_start = timeStart;
    value.time_end = timeEnd;
  }

  return value;
};

const createOrderCostTrigger = (
  orderCostMin?: number,
  orderCostMax?: number,
): Triggers => {
  const value: any = {};

  if (orderCostMin !== undefined) {
    value.order_cost_min = orderCostMin;
  }

  if (orderCostMax !== undefined) {
    value.order_cost_max = orderCostMax;
  }

  return value;
};

type createActionProps = {
  triggers: Triggers[];
  company?: number;
  name?: string;
  description?: string;
  can_be_triggered?: boolean;
  can_be_repeated?: boolean;
};

const createAction = ({
  triggers,
  company = 1,
  name = "Default Name",
  description = "Default Description",
  can_be_triggered = true,
  can_be_repeated = true,
}: createActionProps): Action => {
  actionCounter += 1;
  return {
    id: actionCounter,
    company: company,
    name,
    description,
    triggers,
    can_be_triggered: can_be_triggered,
    can_be_repeated: can_be_repeated,
    payloads: [],
  };
};

type createOrderProps = {
  products: OrderProduct[];
  company_id?: number;
  is_delivery?: boolean;
};

const createOrder = ({
  products,
  company_id = 1,
  is_delivery = true,
}: createOrderProps): Order => {
  return {
    products: products,
    client_id: "1234249296",
    bonus_used: false,
    user_name: "Nurzhan",
    address: {
      lat: 76.876214,
      long: 43.218921,
      parsed: "улица Жандосова, 49",
      exact_address: "94 квартира",
    },
    company_id: company_id,
    exact_address: "94 квартира",
    phone: "77074862447",
    kaspi_phone: "77074862447",
    is_delivery: is_delivery,
    client_comment: "",
    done_time: "",
    bonus_amount: 3270,
    delivery_price: 0,
    actions: [],
  };
};

type createOrderProductProps = {
  product_id: number;
  amount: number;
  active_modifier?: number | null;
  additions?: number[];
};

const createOrderProduct = ({
  product_id,
  amount,
  active_modifier = null,
  additions = [],
}: createOrderProductProps): OrderProduct => {
  let orderProduct: Product | null = null;
  for (const product of products) {
    if (product.id === product_id) {
      orderProduct = product;
    }
  }

  const emptyProduct = {
    product: products[0],
    client_comment: "",
    amount: 1,
    price: products[0].price,
    product_id: products[0].id,
    active_modifier: null,
    additions: [],
  };

  if (orderProduct === null) {
    return emptyProduct;
  }

  const price = sumOneOrderProduct({
    price: 0,
    client_comment: "",
    product: orderProduct,
    product_id: product_id,
    amount: amount,
    active_modifier: active_modifier,
    additions: additions,
  });

  return {
    amount: amount,
    client_comment: "",
    price: price,
    product_id: product_id,
    active_modifier: active_modifier,
    additions: additions,
  };
};

// */

/* ----- Action and order objects ----- */

// const = createAction({ triggers: [] })
const emptyAction = createAction({ triggers: [createEmptyTrigger()] });
const anotherCompanyAction = createAction({
  triggers: [createEmptyTrigger()],
  company: 2,
});
const emptyTriggersAction = createAction({ triggers: [] });
const cantBeTriggeredAction = createAction({
  triggers: [createEmptyTrigger()],
  can_be_triggered: false,
});
const productAction1 = createAction({ triggers: [createProductTrigger(1)] });
const productAction2 = createAction({ triggers: [createProductTrigger(2)] });
const productAction3 = createAction({ triggers: [createProductTrigger(3)] });
const productListAction1 = createAction({
  triggers: [createProductListTrigger([1, 2])],
});
const productListAction2 = createAction({
  triggers: [createProductListTrigger([3, 5])],
});
const categoryAction1 = createAction({ triggers: [createCategoryTrigger(1)] });
const categoryAction2 = createAction({ triggers: [createCategoryTrigger(3)] });
const categoryListAction = createAction({
  triggers: [createCategoryListTrigger([1, 2])],
});
const pizzaAndDrinkComboAction = createAction({
  triggers: [createProductListsTrigger([[1, 2, 3], 4, [15, 16, 17]])],
});
const pizza2ComboAction = createAction({
  triggers: [
    createProductListsTrigger([
      [1, 2, 3],
      [1, 2, 3],
    ]),
  ],
});
const drink2ComboAction = createAction({
  triggers: [
    createProductListsTrigger([
      [15, 16, 17],
      [15, 16, 17, 18],
    ]),
  ],
});
const drink2ComboAction2 = createAction({
  triggers: [
    createProductListsTrigger([
      [15, 16, 17, 18],
      [15, 16, 17],
    ]),
  ],
});
const dateAction1 = createAction({
  triggers: [createDateTimeTrigger(undefined, "23.07.2024")],
});
const dateAction2 = createAction({
  triggers: [createDateTimeTrigger(undefined, "24.09.2024")],
});
const dateAction3 = createAction({
  triggers: [createDateTimeTrigger("23.07.2024", undefined)],
});
const dateAction4 = createAction({
  triggers: [createDateTimeTrigger("24.07.2024", undefined)],
});
const dateAction5 = createAction({
  triggers: [createDateTimeTrigger("10.07.2024", "14.04.2024")],
});
const dateAction6 = createAction({
  triggers: [createDateTimeTrigger("23.07.2024", "23.07.2024")],
});
const dayAction1 = createAction({
  triggers: [createDateTimeTrigger(undefined, undefined, [1])],
});
const dayAction2 = createAction({
  triggers: [createDateTimeTrigger(undefined, undefined, [3, 5])],
});
const timeAction1 = createAction({
  triggers: [
    createDateTimeTrigger(undefined, undefined, undefined, "12:00", "20:00"),
  ],
});
const timeAction2 = createAction({
  triggers: [
    createDateTimeTrigger(undefined, undefined, undefined, "12:00", "10:00"),
  ],
});
const timeAction3 = createAction({
  triggers: [
    createDateTimeTrigger(undefined, undefined, undefined, "09:00", "13:00"),
  ],
});
const costAction1 = createAction({
  triggers: [createOrderCostTrigger(undefined, 20_000)],
});
const costAction2 = createAction({
  triggers: [createOrderCostTrigger(1_000, 20_000)],
});
const costAction3 = createAction({
  triggers: [createOrderCostTrigger(undefined, 1_000)],
});
const costAction4 = createAction({
  triggers: [createOrderCostTrigger(100_000, undefined)],
});

const order1 = createOrder({
  products: [createOrderProduct({ product_id: 1, amount: 2 })],
});
const order2 = createOrder({
  products: [createOrderProduct({ product_id: 1, amount: 2 })],
  company_id: 2,
});
const order3 = createOrder({
  products: [
    createOrderProduct({ product_id: 1, amount: 2 }),
    createOrderProduct({ product_id: 4, amount: 2 }),
    createOrderProduct({ product_id: 2, amount: 2 }),
    createOrderProduct({ product_id: 3, amount: 2 }),
  ],
});
const order4 = createOrder({
  products: [
    createOrderProduct({ product_id: 1, amount: 1 }),
    createOrderProduct({ product_id: 4, amount: 2 }),
    createOrderProduct({ product_id: 7, amount: 2 }),
    createOrderProduct({ product_id: 3, amount: 4 }),
  ],
});
const order5 = createOrder({
  products: [
    createOrderProduct({ product_id: 3, amount: 1 }),
    createOrderProduct({ product_id: 4, amount: 1, additions: [1] }),
    createOrderProduct({ product_id: 22, amount: 3 }),
  ],
});
const order6 = createOrder({
  products: [createOrderProduct({ product_id: 22, amount: 3 })],
});
const order7 = createOrder({
  products: [
    createOrderProduct({ product_id: 3, amount: 1 }),
    createOrderProduct({ product_id: 4, amount: 1, additions: [1] }),
    createOrderProduct({ product_id: 22, amount: 3 }),
    createOrderProduct({ product_id: 5, amount: 6 }),
  ],
});
const order8 = createOrder({
  products: [createOrderProduct({ product_id: 20, amount: 1 })],
});

const order9 = createOrder({
  products: [
    createOrderProduct({ product_id: 1, amount: 1 }),
    createOrderProduct({ product_id: 4, amount: 1 }),
    createOrderProduct({ product_id: 15, amount: 1 }),
  ],
});

const order10 = createOrder({
  products: [
    createOrderProduct({ product_id: 1, amount: 2 }),
    createOrderProduct({ product_id: 2, amount: 2 }),
    createOrderProduct({ product_id: 3, amount: 2 }),
  ],
});

const order11 = createOrder({
  products: [createOrderProduct({ product_id: 15, amount: 2 })],
});
const order12 = createOrder({
  products: [createOrderProduct({ product_id: 16, amount: 2 })],
});
const order13 = createOrder({
  products: [createOrderProduct({ product_id: 17, amount: 2 })],
});
const order14 = createOrder({
  products: [createOrderProduct({ product_id: 18, amount: 2 })],
});
const order15 = createOrder({
  products: [
    createOrderProduct({ product_id: 18, amount: 1 }),
    createOrderProduct({ product_id: 15, amount: 1 }),
  ],
});
const order16 = createOrder({
  products: [
    createOrderProduct({ product_id: 15, amount: 1 }),
    createOrderProduct({ product_id: 18, amount: 1 }),
  ],
});

const order17 = createOrder({
  products: [
    createOrderProduct({ product_id: 15, amount: 3 }),
    createOrderProduct({ product_id: 16, amount: 2 }),
  ],
});

const order18 = createOrder({
  products: [
    createOrderProduct({ product_id: 1, amount: 1 }),
    createOrderProduct({ product_id: 15, amount: 1 }),
  ],
});

const order19 = createOrder({
  products: [
    createOrderProduct({ product_id: 4, amount: 1 }),
    createOrderProduct({ product_id: 15, amount: 1 }),
  ],
});

const order20 = createOrder({
  products: [createOrderProduct({ product_id: 3, amount: 1 })],
});
const order21 = createOrder({
  products: [
    createOrderProduct({ product_id: 2, amount: 1 }),
    createOrderProduct({ product_id: 3, amount: 1 }),
  ],
});

const order22 = createOrder({
  products: [
    createOrderProduct({ product_id: 4, amount: 1 }),
    createOrderProduct({ product_id: 15, amount: 1 }),
    createOrderProduct({ product_id: 3, amount: 3 }),
  ],
});

const order23 = createOrder({
  products: [
    createOrderProduct({ product_id: 4, amount: 1 }),
    createOrderProduct({ product_id: 15, amount: 1 }),
    createOrderProduct({ product_id: 3, amount: 2 }),
  ],
});

const order24 = createOrder({
  products: [
    createOrderProduct({ product_id: 1, amount: 1, additions: [1, 2] }),
    createOrderProduct({ product_id: 4, amount: 2 }),
    createOrderProduct({ product_id: 3, amount: 1 }),
  ],
});

/* ----- Test creators ----- */

const tests: Test[] = [
  {
    actions: [emptyAction],
    order: order1,
    result: [true],
    description: "Пустые value всегда проходят тесты",
  },
  {
    actions: [anotherCompanyAction],
    order: order1,
    result: [false],
    description: "Другая компания. Из-за этого не проходит",
  },
  {
    actions: [anotherCompanyAction],
    order: order2,
    result: [true],
    description: "Одинаковые компании",
  },
  {
    actions: [emptyTriggersAction],
    order: order1,
    result: [false],
    description: "Неправильная акция без триггеров. Она не проходит тесты",
  },
  {
    actions: [cantBeTriggeredAction],
    order: order1,
    result: [false],
    description: "Акция с полем can_be_triggered = false",
  },
  {
    actions: [productAction1],
    order: order1,
    result: [true],
    description:
      "Тут тупо проверяй айдишки. Если неправильно, еще раз проверяй. Кто прочел, тот осел",
  },
  {
    actions: [productAction1, productAction2, productAction3],
    order: order3,
    result: [true, true, true],
    description:
      "Тут тупо проверяй айдишки. Если неправильно, еще раз проверяй. Кто прочел, тот осел",
  },
  {
    actions: [productAction1, productAction2, productAction3],
    order: order4,
    result: [true, false, true],
    description:
      "Тут тупо проверяй айдишки. Если неправильно, еще раз проверяй. Кто прочел, тот осел",
  },
  {
    actions: [productListAction1],
    order: order1,
    result: [true],
    description:
      "Тут тупо проверяй айдишки. Если неправильно, еще раз проверяй. Кто прочел, тот осел",
  },
  {
    actions: [productListAction2],
    order: order1,
    result: [false],
    description:
      "Тут тупо проверяй айдишки. Если неправильно, еще раз проверяй. Кто прочел, тот осел",
  },
  {
    actions: [categoryAction1],
    order: order1,
    result: [true],
  },
  {
    actions: [categoryAction2],
    order: order1,
    result: [false],
  },
  {
    actions: [categoryAction2],
    order: order5,
    result: [true],
  },
  {
    actions: [categoryListAction],
    order: order6,
    result: [false],
  },
  {
    actions: [categoryListAction],
    order: order1,
    result: [true],
  },
  {
    actions: [dateAction1],
    order: order1,
    result: [false],
    description:
      "Тест на то, что в последний день акции заказы уже не проходят проверку. date_end должен иметь" +
      " значение текущего дня",
  },
  {
    actions: [dateAction2],
    order: order1,
    result: [true],
    description: "Тест должен проходить, так как date_end далеко впереди",
  },
  {
    actions: [dateAction3],
    order: order1,
    result: [true],
    description:
      "Тут начальная дата сегодня из-за этого акция должна сработать",
  },
  {
    actions: [dateAction4],
    order: order1,
    result: [false],
    description: "Тут начальная дата завтра из-за этого акция не работает",
  },
  {
    actions: [dateAction5],
    order: order1,
    result: [false],
    description:
      "Тут тупо начало и конец перепутаны местами. Такая акция недествительна и не должна работать",
  },
  {
    actions: [dateAction6],
    order: order1,
    result: [false],
    description:
      "Тут должна быть сегодняшняя дата с 2 сторон. Нельзя такую акцию создавать",
  },
  {
    actions: [dayAction1],
    order: order1,
    result: [true],
    description:
      "Надо поставить сегодняшний день недели и акция типо именно в эти дни работает",
  },
  {
    actions: [dayAction2],
    order: order1,
    result: [false],
    description: "Тут 2 дня недели которые не сегодня. Короче тупо не проходит",
  },
  {
    actions: [timeAction1],
    order: order1,
    result: [true],
    description:
      "Тут проходит по времени. Если не проходит сделай так, чтобы текущее время было между ними",
  },
  {
    actions: [timeAction2],
    order: order1,
    result: [false],
    description: "Начало и конец времени спутаны местами",
  },
  {
    actions: [timeAction3],
    order: order1,
    result: [false],
    description:
      "Тут не проходит по времени. Если не проходит сделай так, чтобы текущее время не было между ними",
  },
  {
    actions: [costAction1],
    order: order1,
    result: [true],
    description: "Проходит по цене. Заказ до 20 000тг",
  },
  {
    actions: [costAction1],
    order: order7,
    result: [false],
    description: "Не проходит по цене. Заказ стоит больше 20 000 тг",
  },
  {
    actions: [costAction2],
    order: order1,
    result: [true],
    description: "Заказ проходит, он между 1 000 и 20 000 тг",
  },
  {
    actions: [costAction2],
    order: order8,
    result: [false],
    description:
      "Тут заказ не проходит. Тут 1 блюдо по цене 800 тг, а акция с 1 000 до 20 000 тг",
  },
  {
    actions: [costAction3],
    order: order1,
    result: [false],
    description: "Тут заказ больше 1 000 тг. Он не проходит",
  },
  {
    actions: [costAction3],
    order: order8,
    result: [true],
    description: "Тут заказ по цене 800 тг, он проходит",
  },
  {
    actions: [costAction4],
    order: order1,
    result: [false],
    description: "Тут слишком большая начальная цена",
  },
  {
    actions: [pizzaAndDrinkComboAction],
    order: order9,
    result: [true],
    description:
      "Тест для комбо акции 'Пицца и напиток' с продуктами [1, 2, 3], 4, [15, 16, 17]]",
  },
  {
    actions: [pizza2ComboAction],
    order: order10,
    result: [true],
    description:
      "Тест для комбо акции '2 Пиццы' с продуктами [1, 2, 3] и [1, 2, 3]",
  },
  {
    actions: [pizza2ComboAction, pizza2ComboAction, pizza2ComboAction],
    order: order10,
    result: [true, true, true],
    description:
      "Тут в заказе хватает на 3 акции связанные с акцией '2 Пиццы' с продуктами [1, 2, 3] и [1, 2, 3]",
  },
  {
    actions: [
      pizza2ComboAction,
      pizza2ComboAction,
      pizza2ComboAction,
      pizza2ComboAction,
    ],
    order: order10,
    result: [true, true, true, false],
    description:
      "Тут тот же заказ, что и в предыдущих 2, но тут уже 4 акции. Первые 3 проходят, а вот до последнего" +
      " не остается продуктов",
  },
  {
    actions: [drink2ComboAction],
    order: order11,
    result: [true],
    description:
      "Тест для комбо акции '2 Напитка' с продуктами [15, 16, 17] и [15, 16, 17, 18]. Тут в заказе" +
      " присутсвует 2 блюда с айди 15",
  },
  {
    actions: [drink2ComboAction],
    order: order12,
    result: [true],
    description:
      "Тест для комбо акции '2 Напитка' с продуктами [15, 16, 17] и [15, 16, 17, 18]. Тут в заказе" +
      " присутсвует 2 блюда с айди 16",
  },
  {
    actions: [drink2ComboAction],
    order: order13,
    result: [true],
    description:
      "Тест для комбо акции '2 Напитка' с продуктами [15, 16, 17] и [15, 16, 17, 18]. Тут в заказе" +
      " присутсвует 2 блюда с айди 17",
  },
  {
    actions: [drink2ComboAction],
    order: order14,
    result: [false],
    description:
      "Тест для комбо акции '2 Напитка' с продуктами [15, 16, 17] и [15, 16, 17, 18]. Тут в заказе" +
      " присутсвует 2 блюда с айди 18. Он не пройдет потому что в акции 18 продукт есть только 1, а [15, 16, 17]" +
      " продуктов нет",
  },
  {
    actions: [drink2ComboAction],
    order: order15,
    result: [true],
    description:
      "Тест для комбо акции '2 Напитка' с продуктами [15, 16, 17] и [15, 16, 17, 18]. В заказе есть 18 и" +
      " 15 продукт",
  },
  {
    actions: [drink2ComboAction2],
    order: order15,
    result: [true],
    description:
      "Тест для комбо акции '2 Напитка' с продуктами [15, 16, 17, 18] и [15, 16, 17]. \\nЯ поменял" +
      " местами 2 списка в акции для того, чтобы проверить будут ли обратные акции работать так как надо.",
  },
  {
    actions: [drink2ComboAction],
    order: order16,
    result: [true],
    description:
      "Тест для комбо акции '2 Напитка' с продуктами [15, 16, 17] и [15, 16, 17, 18]. В заказе есть 15 и" +
      " 18 продукт. Здесь я тупо поменял местами продукты в заказе",
  },
  {
    actions: [drink2ComboAction2],
    order: order16,
    result: [true],
    description:
      "То же самое что и в предыдущих. Поменял местами списки в акции и поменял местами продукты в заказе",
  },
  {
    actions: [drink2ComboAction],
    order: order17,
    result: [true],
    description:
      "Тут в заказу есть 3 продукта с айди 15 и 2 продукта с айди 16. ТУт проверяются работоспособность" +
      " мескольких акций подряд. Акции почти одинаковые и продукты, которые использует акции, есть в заказе",
  },
  {
    actions: [drink2ComboAction2],
    order: order17,
    result: [true],
    description:
      "Тут в заказу есть 3 продукта с айди 15 и 2 продукта с айди 16. ТУт проверяются работоспособность" +
      " мескольких акций подряд. Акции почти одинаковые и продукты, которые использует акции, есть в заказе",
  },
  {
    actions: [drink2ComboAction, drink2ComboAction, drink2ComboAction],
    order: order17,
    result: [true, true, false],
    description:
      "Тут в заказу есть 3 продукта с айди 15 и 2 продукта с айди 16. ТУт проверяются работоспособность" +
      " мескольких акций подряд. Акции почти одинаковые и продукты, которые использует акции, есть в заказе",
  },
  {
    actions: [drink2ComboAction2, drink2ComboAction, drink2ComboAction2],
    order: order17,
    result: [true, true, false],
    description:
      "Тут в заказу есть 3 продукта с айди 15 и 2 продукта с айди 16. ТУт проверяются работоспособность" +
      " мескольких акций подряд. Акции почти одинаковые и продукты, которые использует акции, есть в заказе",
  },
  {
    actions: [pizzaAndDrinkComboAction],
    order: order18,
    result: [false],
    description:
      "Тест для комбо акции 'Пицца и напиток' с продуктами [1, 2, 3], 4, [15, 16, 17]]. Тут недостаточно" +
      " продуктов в заказе",
  },
  {
    actions: [pizzaAndDrinkComboAction],
    order: order19,
    result: [false],
    description:
      "Тест для комбо акции 'Пицца и напиток' с продуктами [1, 2, 3], 4, [15, 16, 17]]. Тут недостаточно" +
      " продуктов в заказе",
  },
  {
    actions: [pizza2ComboAction],
    order: order20,
    result: [true],
    description:
      "Тест для комбо акции '2 Пиццы' с продуктами [1, 2, 3] и [1, 2, 3]. В заказе продукты с айди 3 и 1",
  },
  {
    actions: [pizza2ComboAction],
    order: order21,
    result: [true],
    description:
      "Тест для комбо акции '2 Пиццы' с продуктами [1, 2, 3] и [1, 2, 3]. В заказе продукты с айди 2 и 3",
  },
  {
    actions: [pizzaAndDrinkComboAction],
    order: order22,
    result: [true],
    description: "Предварительный тест заказа и акции 'Пицца и напиток'",
  },
  {
    actions: [pizza2ComboAction],
    order: order22,
    result: [true],
    description: "Предварительный тест заказа и акции '2 Пиццы'",
  },
  {
    actions: [pizzaAndDrinkComboAction, pizza2ComboAction],
    order: order22,
    result: [true, true],
    description: "Тест комбинированных акций 'Пицца и напиток' и '2 Пиццы'",
  },
  {
    actions: [pizza2ComboAction, pizzaAndDrinkComboAction],
    order: order22,
    result: [true, true],
    description:
      "Тест комбинированных акций 'Пицца и напиток' и '2 Пиццы'. Здесь акции я поменял уже местами. С" +
      " начала идет 2 пиццы",
  },
  {
    actions: [
      pizzaAndDrinkComboAction,
      productAction1,
      productAction2,
      productAction1,
    ],
    order: order22,
    result: [true, true, false, true],
    description:
      "Вот уже начинается сложности. Тут я объединил в 1 тест комбо акции 'Пицца и напиток' и продуктых с" +
      " айди 1, 2 и снова 1. В заказе есть продукты для 1, 2 и 4 акций. Продукта с айди 2 нет",
  },
  {
    actions: [
      productAction1,
      productAction1,
      productAction1,
      pizzaAndDrinkComboAction,
    ],
    order: order22,
    result: [true, true, false, true],
    description:
      "Тут тот же заказ, что и в предыдущем тесте, только другие акции. \nЗдесь я объединил акции 1 комбо" +
      " 'Пицца и напиток' и 3 продуктных с айди 1. \nПрикол в том, что есть очередность выполнения акций и сначала" +
      " должны отрабатывать комбо, потом продуктые, продуктные списки, категорийные, категорийные списки и потом" +
      " остальные (у них нет очередности выполнения, т.к. они являются дополнительными (время и тд.)). \nТут в тесте" +
      " сначала пройдет акция 'Пицца и напиток' (в списке он последний), а потом по очереди продуктые. Хотя тут" +
      " поидее, если по очереди делать не должен отработать именно 'Пицца и напиток', но у него приоритет выше и он" +
      " должен без очереди сработать",
  },
  {
    actions: [pizzaAndDrinkComboAction],
    order: order23,
    result: [true],
    description: "Предварительный тест заказа и акции 'Пицца и напиток'",
  },
  {
    actions: [pizza2ComboAction],
    order: order23,
    result: [true],
    description: "Предварительный тест заказа и акции '2 Пиццы'",
  },
  {
    actions: [pizzaAndDrinkComboAction, pizza2ComboAction],
    order: order23,
    result: [true, false],
    description:
      "Тест комбинированных акций 'Пицца и напиток' и '2 Пиццы'. Тут на 2 акцию не хватит продуктов",
  },
  {
    actions: [pizza2ComboAction, pizzaAndDrinkComboAction],
    order: order23,
    result: [true, false],
    description:
      "Тест комбинированных акций 'Пицца и напиток' и '2 Пиццы'. Здесь акции я поменял уже местами. С" +
      " начала идет 2 пиццы. Тут на 2 акцию не хватит продуктов",
  },
  {
    actions: [productAction1, pizzaAndDrinkComboAction],
    order: order23,
    result: [true, true],
    description:
      "Тест комбинированной акции 'Пицца и напиток' и продуктной на айди 1. Тут на все хватает продуктов",
  },
  {
    actions: [
      pizzaAndDrinkComboAction,
      pizzaAndDrinkComboAction,
      productAction1,
    ],
    order: order23,
    result: [true, false, true],
    description:
      "Тест 2 комбинированных акций 'Пицца и напиток' и продуктной на айди 1. Тут на все хватает" +
      " продуктов, кроме 2 раза 'Пицца и напиток'",
  },
  {
    actions: [
      productAction1,
      productAction1,
      productAction1,
      pizzaAndDrinkComboAction,
    ],
    order: order23,
    result: [true, false, false, true],
    description:
      "Тут тот же заказ, что и в предыдущем тесте, только другие акции. \nЗдесь я объединил акции 1 комбо" +
      " 'Пицца и напиток' и 3 продуктных с айди 1. \nПрикол в том, что есть очередность выполнения акций и сначала" +
      " должны отрабатывать комбо, потом продуктые, продуктные списки, категорийные, категорийные списки и потом" +
      " остальные (у них нет очередности выполнения, т.к. они являются дополнительными (время и тд.)). \nТут в тесте" +
      " сначала пройдет акция 'Пицца и напиток' (в списке он последний), а потом по очереди продуктые. Хотя тут" +
      " поидее, если по очереди делать не должен отработать именно 'Пицца и напиток', но у него приоритет выше и он" +
      " должен без очереди сработать",
  },
  {
    actions: [pizza2ComboAction],
    order: order24,
    result: [true],
    description: "Предварительный тест заказа и акции '2 Пиццы'",
  },
  {
    actions: [pizzaAndDrinkComboAction],
    order: order24,
    result: [false],
    description:
      "Предварительный тест заказа и акции 'Пицца и напиток'. Тут не хватит продуктов",
  },
  {
    actions: [pizzaAndDrinkComboAction, pizza2ComboAction],
    order: order24,
    result: [false, true],
    description: "Объединение предыдущих 2 тестов",
  },
  {
    actions: [
      pizzaAndDrinkComboAction,
      drink2ComboAction,
      drink2ComboAction2,
      pizza2ComboAction,
    ],
    order: order24,
    result: [false, false, false, true],
    description:
      "Тут я тупо запихал кучу акций которые не пройдут тесты и в конце добавил акцию '2 Пиццы'",
  },
];

const test2 = createAction({
  triggers: [createProductListTrigger([1, 2, 3, 4, 10, 12, 22])],
});

const order25 = createOrder({
  products: [
    createOrderProduct({ product_id: 1, amount: 4 }),
    createOrderProduct({ product_id: 2, amount: 2 }),
    createOrderProduct({ product_id: 3, amount: 2 }),
    createOrderProduct({ product_id: 4, amount: 1 }),
  ],
});

// console.log(JSON.stringify(tests.slice(5, 15), undefined, "\t"));
console.log(
  JSON.stringify(
    products.map((product) => {
      return `${product.id} [${product.name}] - ${product.price}`;
    }),
    undefined,
    "\t",
  ),
);
// */
